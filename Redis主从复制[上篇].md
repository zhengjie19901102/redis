## Redis主从复制[上篇]

主要命令:

`SLAVEOF`设置当前登录的redis库为从库。

​	- 格式: `SLAVEOF [服务器地址] 端口号`

​	- 示例: `SLAVEOF 127.0.0.1 6379` 设置当前登录的redis为从库，跟随127.0.0.1服务器端口6379开启的redis[127.0.0.1服务器上6379开启的为主库]。

`INFO REPLICATION` 查看当前redis库的主从关系信息。

​	- 格式: `INFO REPLICATION` 

​	- 示例: `INFO REPLICATION`查看当前redis库的主从关系。

主从复制相关注意点: 

* 关键字`复制`，表示从库只能通过主库中复制来获得数据，所以无法在从库中添加新数据，用户只能在从库中进行只读操作。如果强制执行`set`等添加数据命令，则会报错: `(error) READONLY You can't write against a read only slave.`
* 主库因为其他原因掉线了，则从库会继续他们的从库身份，原地待命[原来什么身份现在还是什么身份。]。当主库重新上线后，从库继续做从主库复制数据和只读的工作。
* 当从库因为某种原因掉线，则会与主库断开主从关系。此时重新登录从库所在的服务器后该登录的库仍旧为master主库[默认]，如果想从库重新登录后自动连接主库成为从库，则需要在redis.conf相关配置文件中配置相关信息。
* 从库可以是从库的从库，也就是`SLAVEOF`命令作用的服务器地址和端口也可以是一个从库，那么就会成为一个链表型的主从关系。其特性与普通的从库特性相同[只能复制他所跟随的库和只读]。[`另一个概念: 去中心化，减轻主库的压力。也会有相应的弊端`]